<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="ir_cron_map_sales" model="ir.cron">
        <field name="name">Account; Map Sales in Invoice</field>
        <field name="interval_number">3</field>
        <field name="interval_type">minutes</field>
        <field name="numbercall">-1</field>
        <field name="doall" eval="False"/>
        <field name="model_id" ref="model_sale_payment"/>
        <field name="code">invoice_ids = env['account.invoice'].search([('type','=',1),('sale_ids','=',False),('mapped_sale','=',False)],limit=50)
for invoice in invoice_ids:
  sale_ids = []
  for line in invoice.invoice_line_ids:
    for sale_line in line.sale_line_ids:
      if sale_line.order_id not in sale_ids:
        sale_ids.append(sale_line.order_id.id)
  if sale_ids:
    for sale in sale_ids:
      invoice.write({'sale_ids': [(4, sale.id)]})
if not invoice_ids:
  ir_cron = env['ir.cron'].search([('name','=','Account; Map Sales in Invoice')])
  ir_cron.write({'active': False})
        </field>
        <field name="state">code</field>
    </record>
</odoo>